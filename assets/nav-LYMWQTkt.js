var x=t=>{throw TypeError(t)};var A=(t,e,o)=>e.has(t)||x("Cannot "+o);var M=(t,e,o)=>(A(t,e,"read from private field"),o?o.call(t):e.get(t)),h=(t,e,o)=>e.has(t)?x("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,o);var E=(t,e,o)=>(A(t,e,"access private method"),o);import{a as J}from"./vendor-CNNbG8jS.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function o(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=o(a);fetch(a.href,i)}})();const O="/goit-js-finalproject-team-6/assets/sprites-BC2IQxlo.svg";var L,g,$,P;class K{constructor(){h(this,g);h(this,L,J.create({baseURL:"https://your-energy.b.goit.study/api/"}))}async exerciseInfo(e){return E(this,g,$).call(this,`exercises/${e}`)}async setExerciseRating({exerciseId:e,rate:o,email:r,review:a}){return E(this,g,P).call(this,`exercises/${e}/rating`,{rate:o,email:r,review:a})}}L=new WeakMap,g=new WeakSet,$=async function(e){return(await M(this,L).get(e)).data},P=async function(e,o){return(await M(this,L).patch(e,o)).data};const I=new K;function B(){return JSON.parse(localStorage.getItem("favorites"))||[]}function G(t){const e=B();e.push(t),localStorage.setItem("favorites",JSON.stringify(e))}function X(t){const e=B(),o=e.indexOf(t);o!==-1&&(e.splice(o,1),localStorage.setItem("favorites",JSON.stringify(e)))}const n={closeModalButton:"[data-modal-close]",modalContainer:"[data-modal]",exerciseModal:".modal",ratingModal:".add-rating-modal",addToFavoritesButton:".btn-modal-add-fav",imgModalExercise:".img-modal-exercise",titleModal:".title-modal",ratingValue:".rating-value",statsList:".stats-list",descText:".desc-text",btnFavText:".btn-fav-text",iconFavBtnUse:".icon-fav-btn-use",openRatingModalButton:"[data-add-rating-open]",closeRatingModalButton:"[data-add-rating-close]",ratingForm:".add-rating-form",addRatingValue:".add-rating-value",iconModalRatingStar:".icon-modal-rating-star",addRatingRadioBtn:".add-rating-radio-btn",openModalButtons:"[data-modal-open]",ratingStars:".rating-stars"},s={visuallyHidden:"visually-hidden",favAdded:"fav-added",modalOpen:"modal-open",gold:"gold"},Y=document.querySelector(n.closeModalButton),R=document.querySelector(n.modalContainer),y=document.querySelector(n.exerciseModal),m=document.querySelector(n.ratingModal),N=document.querySelector(n.addToFavoritesButton);async function Q(t){const e=await I.exerciseInfo(t);V(e),b(t),W(t),R.classList.toggle(s.visuallyHidden),U(),D(t)}function _(){document.querySelector(n.imgModalExercise).src="",document.querySelector(n.titleModal).textContent="",document.querySelector(n.ratingValue).textContent="0",document.querySelector(n.statsList).innerHTML="",document.querySelector(n.descText).textContent=""}function V(t){_(),document.querySelector(n.imgModalExercise).src=t.gifUrl,document.querySelector(n.titleModal).textContent=t.name.trim(),document.querySelector(n.descText).textContent=t.description.trim(),document.querySelector(n.ratingValue).textContent=t.rating,tt(t.rating),z(t)}function z(t){const e=document.querySelector(n.statsList);e.innerHTML="";let o="";t.target&&(o+=v("Target",t.target)),t.bodyPart&&(o+=v("BodyPart",t.bodyPart)),t.equipment&&(o+=v("Equipment",t.equipment)),t.popularity&&(o+=v("Popular",t.popularity)),t.burnedCalories&&(o+=v("Burned Calories",`${t.burnedCalories}/${t.time} min`)),e.insertAdjacentHTML("beforeend",o)}function v(t,e){return`<li class="stats-item">
    <p class="stats-title">${t}</p>
    <p class="stats-value">${e}</p>
  </li>`}function b(t){const e=B().includes(t);N.classList.toggle(s.favAdded,e),document.querySelector(n.btnFavText).textContent=e?"Remove from favorites":"Add to favorites",document.querySelector(n.iconFavBtnUse).setAttribute("href",`${O}#${e?"trash-bin":"heart"}`)}function W(t){N.addEventListener("click",e=>{const o=e.currentTarget;o.classList.toggle(s.favAdded),o.classList.contains(s.favAdded)?(G(t),b(t)):(X(t),b(t)),e.stopImmediatePropagation()})}function U(){document.addEventListener("keydown",j),document.body.classList.add(s.modalOpen)}function Z(){document.removeEventListener("keydown",j),document.body.classList.remove(s.modalOpen)}function j(t){t.key==="Escape"&&C()}function C(){m.classList.add(s.visuallyHidden),y.classList.remove(s.visuallyHidden),R.classList.add(s.visuallyHidden),Z()}Y.addEventListener("click",C);R.addEventListener("click",t=>{F(t,y.getBoundingClientRect())||F(t,m.getBoundingClientRect())||C(),t.stopImmediatePropagation()});function F(t,e){return e.top<=t.clientY&&t.clientY<=e.top+e.height&&e.left<=t.clientX&&t.clientX<=e.left+e.width}function D(t){const e=document.querySelector(n.openRatingModalButton);let o=0;e.addEventListener("click",d=>{m.classList.remove(s.visuallyHidden),y.classList.add(s.visuallyHidden),U(),i(),d.stopImmediatePropagation()}),document.querySelector(n.closeRatingModalButton).addEventListener("click",d=>{m.classList.add(s.visuallyHidden),y.classList.remove(s.visuallyHidden),a(m.querySelector("form")),d.stopImmediatePropagation()});function a(d){d.elements.email.value="",d.elements.comment.value="",d.elements.radio.forEach(c=>c.checked=!1),document.querySelector(n.addRatingValue).textContent="0",document.querySelectorAll(n.iconModalRatingStar).forEach(c=>c.classList.remove(s.gold))}function i(){document.querySelectorAll(n.addRatingRadioBtn).forEach(c=>{c.addEventListener("click",f=>{o=Number(f.currentTarget.value),document.querySelector(n.addRatingValue).textContent=o,document.querySelectorAll(n.iconModalRatingStar).forEach((S,p)=>{S.classList.toggle(s.gold,p<o)}),f.stopImmediatePropagation()})})}document.querySelector(n.ratingForm).addEventListener("submit",async d=>{d.preventDefault();const c=d.target,f=c.elements.email.value,S=c.elements.comment.value;if(!o)alert("Choose your rating");else if(!f)alert("Enter your email");else if(!S)alert("Leave a comment");else try{const p=await I.setExerciseRating({exerciseId:t,rate:o,email:f,review:S});m.classList.add(s.visuallyHidden),a(c),y.classList.remove(s.visuallyHidden),V(p)}catch(p){alert(`Error: ${p.message}`)}d.stopImmediatePropagation()})}function it(){document.querySelectorAll(n.openModalButtons).forEach(e=>{e.addEventListener("click",o=>{const r=o.currentTarget.value;Q(r)})})}function tt(t){const e=document.querySelector(n.ratingStars);e.innerHTML="",e.append(...et(5,t))}function et(t,e){const o=[];for(let r=0;r<t;r++){const a=Math.min(100,Math.max(0,(e-r)*100)),i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("width","18"),i.setAttribute("height","18"),i.setAttribute("class","icon icon-modal-star");const l=`gradient-${r}-${a}`;i.innerHTML=`
      <defs>
        <linearGradient id="${l}" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="${a}%" stop-color="var(--color-accent)" />
          <stop offset="${a}%" stop-color="var(--color-rating)" />
        </linearGradient>
      </defs>
      <use href="${O}#star" fill="url(#${l})"></use>
    `,o.push(i)}return o}const ot=document.querySelector(".burger-menu"),T=document.querySelector(".close-btn"),w=document.querySelector(".menu-backdrop"),q=document.querySelector(".menu-backdrop>.menu");function u(){q.classList.contains("is-open")?(q.classList.remove("is-open"),w.removeEventListener("click",H),document.removeEventListener("keydown",k),T.removeEventListener("click",u)):(q.classList.add("is-open"),w.addEventListener("click",H),document.addEventListener("keydown",k),T.addEventListener("click",u))}ot.addEventListener("click",u);const k=t=>{t.code==="Escape"&&u()},H=t=>{t.target===document.querySelector(".menu-backdrop")&&u();const e=t.target.closest("a");e!=null&&e.classList.contains("nav-link")&&u(),e!=null&&e.classList.contains("soc-link")&&u()};document.addEventListener("DOMContentLoaded",function(){const t=window.location.pathname;document.querySelectorAll(".nav-link").forEach(o=>{(t.includes("index.html")&&o.getAttribute("href").includes("index.html")||t.includes("favorites.html")&&o.getAttribute("href").includes("favorites.html"))&&o.classList.add("active")})});export{O as a,I as b,B as g,it as i,X as r};
//# sourceMappingURL=nav-LYMWQTkt.js.map
